{
  "version": 3,
  "sources": ["../../src/lib/querys.ts"],
  "sourcesContent": ["import { useConnection } from \"../connection\";\r\nimport type { TableItem } from \"./adapter-config\";\r\n\r\nexport async function createNewTable(table: string): Promise<void> {\r\n    return useConnection(async (connection) => {\r\n        const query = `\r\n            CREATE TABLE IF NOT EXISTS ${table}\r\n            (\r\n                id\r\n                INT,\r\n                ts\r\n                BIGINT,\r\n                val\r\n                DOUBLE,\r\n                unit\r\n                VARCHAR\r\n            (\r\n                50\r\n            ),\r\n                createdAt\r\n                TIMESTAMP\r\n                DEFAULT\r\n                CURRENT_TIMESTAMP\r\n                )`;\r\n        await connection.query(query);\r\n    });\r\n}\r\n\r\nexport const saveData = async (entry: TableItem, date: number, val: number): Promise<void> => {\r\n    return useConnection(async (connection) => {\r\n        const saveQuery = `INSERT INTO ${entry.tableTo} (id, ts, val, unit)\r\n                           VALUES (?, ?, ?, ?)`;\r\n\r\n        await connection.execute(saveQuery, [entry.id, date, val, entry.unit ?? \"\"]);\r\n    });\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA8B;AAG9B,eAAsB,eAAe,OAA8B;AAC/D,aAAO,iCAAc,OAAO,eAAe;AACvC,UAAM,QAAQ;AAAA,yCACmB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBtC,UAAM,WAAW,MAAM,KAAK;AAAA,EAChC,CAAC;AACL;AAEO,MAAM,WAAW,OAAO,OAAkB,MAAc,QAA+B;AAC1F,aAAO,iCAAc,OAAO,eAAe;AA7B/C;AA8BQ,UAAM,YAAY,eAAe,MAAM,OAAO;AAAA;AAG9C,UAAM,WAAW,QAAQ,WAAW,CAAC,MAAM,IAAI,MAAM,MAAK,WAAM,SAAN,YAAc,EAAE,CAAC;AAAA,EAC/E,CAAC;AACL;",
  "names": []
}
