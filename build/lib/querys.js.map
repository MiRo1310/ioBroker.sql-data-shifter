{
  "version": 3,
  "sources": ["../../src/lib/querys.ts"],
  "sourcesContent": ["import { useConnection } from \"../connection\";\nimport type { TableItem } from \"./adapter-config\";\n\nexport async function createNewTable(table: string): Promise<void> {\n    return useConnection(async (connection) => {\n        const query = `\n            CREATE TABLE IF NOT EXISTS ${table}\n            (\n                id\n                INT,\n                ts\n                BIGINT,\n                val\n                DOUBLE,\n                unit\n                VARCHAR\n            (\n                50\n            ),\n                createdAt\n                TIMESTAMP\n                DEFAULT\n                CURRENT_TIMESTAMP\n                )`;\n        await connection.query(query);\n    });\n}\n\nexport const saveData = async (entry: TableItem, date: number, val: number): Promise<void> => {\n    return useConnection(async (connection) => {\n        const saveQuery = `INSERT INTO ${entry.tableTo} (id, ts, val, unit)\n                           VALUES (?, ?, ?, ?)`;\n\n        await connection.execute(saveQuery, [entry.id, date, val, entry.unit ?? \"\"]);\n    });\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA8B;AAG9B,eAAsB,eAAe,OAA8B;AAC/D,aAAO,iCAAc,OAAO,eAAe;AACvC,UAAM,QAAQ;AAAA,yCACmB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBtC,UAAM,WAAW,MAAM,KAAK;AAAA,EAChC,CAAC;AACL;AAEO,MAAM,WAAW,OAAO,OAAkB,MAAc,QAA+B;AAC1F,aAAO,iCAAc,OAAO,eAAe;AA7B/C;AA8BQ,UAAM,YAAY,eAAe,MAAM,OAAO;AAAA;AAG9C,UAAM,WAAW,QAAQ,WAAW,CAAC,MAAM,IAAI,MAAM,MAAK,WAAM,SAAN,YAAc,EAAE,CAAC;AAAA,EAC/E,CAAC;AACL;",
  "names": []
}
